<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Comments | Lab 9 - CS 360</title>
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
          integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="stylesheets/main.css">
</head>
<body data-ng-app="comment" data-ng-controller="MainCtrl">
<div class="container-fluid">
    <div class="row">
        <div class="col-xs-12">
            <h2>Comments</h2>
        </div>
    </div>
    <form data-ng-submit="addComment()" name="addCommentForm" class="form-horizontal" novalidate="novalidate">
        <div class="form-group">
            <label for="nameField" class="control-label col-sm-2 col-md-1">Name</label>
            <div class="col-sm-4 col-md-5">
                <input type="text" class="form-control" data-ng-model="name" id="nameField" placeholder="Name">
            </div>
            <label for="emailField" class="control-label col-sm-2 col-md-1">Email</label>
            <div class="col-sm-4 col-md-5">
                <input type="text" class="form-control" data-ng-model="email" id="emailField" placeholder="Email">
            </div>
        </div>
        <div class="form-group" data-ng-class="{'has-error': formInvalid()}">
            <label for="commentText" class="control-label col-sm-2 col-md-1">
                Comment<sup class="text-muted">*</sup>
            </label>
            <div class="col-sm-10 col-md-11">
                <textarea class="form-control" data-ng-model="commentText" id="commentText" required="required"></textarea>
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-12">
                <button type="submit" class="btn btn-primary">Add Comment</button>
            </div>
        </div>
    </form>
    <div class="row">
        <div class="col-xs-12">
            <div data-ng-repeat="comment in comments | orderBy: '-upvotes'">
                <hr/>
                <div class="comment-header">
                    <div class="profile-image">
                        <img src=""
                             data-ng-src="//www.gravatar.com/avatar/{{comment.gravatarId}}?s=40&d=identicon"
                             alt="{{comment.name}} Icon" class="img-thumbnail"/>
                    </div>
                    <h5>{{comment.name}}</h5>
                    <div>
                        <button type="button" class="btn btn-default btn-xs" title="Upvote Comment" data-ng-click="incrementUpvotes(comment)">
                            <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                        </button>
                        Upvotes <span class="badge">{{comment.upvotes}}</span>
                    </div>
                </div>
                <p>
                    {{comment.title}}
                </p>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
<script type="text/javascript" src="http://crypto-js.googlecode.com/svn/tags/3.0.2/build/rollups/md5.js"></script>
<script type="text/javascript" src="javascripts/l9.js"></script>
</body>
</html>